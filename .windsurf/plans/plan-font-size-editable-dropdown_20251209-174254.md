# 计划：字体大小可编辑下拉框

## 任务背景

当前 Excalidraw 的字体大小设置使用 S/M/L/XL 四个预设按钮，以及一个独立的自定义输入框（显示在按钮下方）。用户希望：
1. 将自定义输入框移到 S/M/L/XL 按钮的右侧
2. 将输入框改为可编辑的下拉框（Combobox）
3. 下拉框中预设一些常用字体大小值
4. 输入框允许手动输入，回车后才生效

## 目标与非目标

### 目标
- 创建一个通用的可编辑下拉框组件（EditableDropdown / Combobox）
- 修改字体大小 action，使用新的可编辑下拉框替换当前的独立输入框
- 保持与现有 UI 风格一致
- 支持键盘操作（回车确认、Esc 取消）

### 非目标
- 不修改 S/M/L/XL 按钮的功能
- 不修改其他属性面板的布局

## 需求与场景

### 用户场景
1. 用户选中文本元素，打开属性面板
2. 看到"字体大小"区域：S | M | L | XL | [可编辑下拉框]
3. 点击下拉框，显示预设值列表（如 12, 16, 20, 24, 32, 48, 64, 72, 96 等）
4. 选择预设值后立即生效
5. 或者手动输入值，按回车后生效

### 交互流程
- 点击下拉框触发器 → 显示预设值列表
- 点击预设值 → 立即应用，关闭下拉
- 在输入框中输入 → 输入过程不生效，按回车后生效
- 按 Esc → 取消输入，恢复原值

## 技术方案草案

### 1. 新建组件
- 路径：`packages/excalidraw/components/EditableDropdown.tsx`
- 功能：
  - 可编辑的输入框
  - 下拉预设值列表
  - 支持受控模式（value + onChange）
  - 支持 onSubmit（回车时触发）

### 2. 修改 actionChangeFontSize
- 文件：`packages/excalidraw/actions/actionProperties.tsx`
- 修改 PanelComponent，用 EditableDropdown 替换当前的独立输入框
- 布局调整：输入框放到 S/M/L/XL 右侧同一行

### 3. 预设字体大小值
- 常用值：12, 14, 16, 18, 20, 24, 28, 32, 36, 48, 64, 72, 96

## 验收标准

1. 可编辑下拉框显示在 S/M/L/XL 按钮右侧
2. 下拉框显示当前字体大小值
3. 点击下拉框显示预设值列表
4. 选择预设值后立即生效
5. 手动输入后按回车生效
6. 组件样式与现有 UI 一致

## 风险与未知问题

- 需要确认现有的 Popover 组件是否适合用于下拉列表
- 需要处理输入过程中焦点管理
